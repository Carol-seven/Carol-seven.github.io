---
format: html
knitr:
  opts_chunk:
    echo: false
    message: false
    results: 'asis'
    warning: false
---


```{=html}
<style>
  #photo-container {
    width: 40em;
    margin: 0 auto;
    text-align: left;
  }

  #current-photo {
    width: 100%;
    height: auto;
    display: block;
  }
  
  button {
    margin-top: 0.5em;
    margin-right: 1em;
  }
  
  p {
    margin-top: 1.5em;
  }
</style>

<div id="photo-container">
<img src="" id="current-photo" alt="Kiwi Xiao">
<button onclick="previousPhoto()">Previous</button>
<button onclick="nextPhoto()">Next</button>
<p>
I started raising a Sphynx cat named <strong>Kiwi</strong> in March 2024.
Born on August 25, 2023 in Toronto, Canada, he has brought immense joy into
my life. Witnessing his growth has been incredibly rewarding.
</p>
</div>
```


```{r}
photos <- sort(list.files("kiwi", pattern = "\\.jpe?g$", full.names = TRUE))
js_array <- paste(sprintf('"%s"', photos), collapse = ",\n    ")
cat(
'<script>
  var currentPhotoIndex = 0;
  var photos = [
    ', js_array, '
  ];

  function showCurrentPhoto() {
    document.getElementById("current-photo").src = photos[currentPhotoIndex];
  }

  function previousPhoto() {
    currentPhotoIndex = (currentPhotoIndex - 1 + photos.length) % photos.length;
    showCurrentPhoto();
  }

  function nextPhoto() {
    currentPhotoIndex = (currentPhotoIndex + 1) % photos.length;
    showCurrentPhoto();
  }

  showCurrentPhoto();
</script>'
)
```

